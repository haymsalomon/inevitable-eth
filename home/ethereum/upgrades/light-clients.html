<!--
title: Light Clients
description: 
published: true
date: 2022-12-07T17:02:54.485Z
tags: 
editor: ckeditor
dateCreated: 2022-12-07T17:01:14.749Z
-->

<figure class="image"><img src="/light-client-1.jpeg"></figure>
<h1 style="text-align:center;">Light Clients and the Portal Network</h1>
<h2>The World Computer</h2>
<p>Ethereum is the <a href="/home/ethereum/world-computer">World Computer</a>, a network of 1,000s of computers (<a href="/home/ethereum/network/node">nodes</a>) coordinating using <a href="/home/ethereum/network/consensus/pos">Proof of Stake</a> (PoS) to keep the <a href="/home/ethereum/evm">Ethereum Virtual Machine</a> (EVM) in sync.</p>
<p>The EVM is the shared computing platform, the blockchain its history and ETH its lifeblood.</p>
<p>This "network of nodes" is the foundation upon which Ethereum ultimately derives its value. The more decentralized, the more value.</p>
<p>From decentralization comes <a href="/home/concepts/credible-neutrality">credible neutrality</a>.&nbsp;</p>
<p>Without credible neutrality, we might as well be using FB-dollaroos in Farmville-DeFi.</p>
<h2>Accessing Ethereum</h2>
<p><a href="/home/ethereum/network/node/accessing-ethereum">Deep Dive: Accessing Ethereum</a></p>
<p>There are currently ~10k nodes. So you can think of this as ~10k individual computers running Ethereum clients.</p>
<p>If you want to be specific, you need to look at cloud providers. More than 25% of nodes run on <a href="https://aws.amazon.com/">AWS</a>, which makes decentralization more complicated.</p>
<figure class="table">
  <table>
    <tbody>
      <tr>
        <td>
          <figure class="image"><img src="/light-client-2.jpeg"></figure>
        </td>
        <td>
          <figure class="image"><img src="/light-client-3.jpeg"></figure>
        </td>
      </tr>
    </tbody>
  </table>
</figure>
<p>Not all nodes are made the same.&nbsp;</p>
<p>While there have been valiant efforts to get a node running on some <a href="https://twitter.com/EthereumOnARM/status/1432251814402002948">very humble hardware</a>, in general a node ranges from a $1k+ dedicated computer to a full data center.&nbsp;</p>
<p>And all nodes require unlimited bandwidth and constant maintenance.</p>
<p>Today, to access Ethereum, the choice is to run a node yourself (less than 10k people globally), or to use a centralized platform like <a href="https://www.alchemy.com/">Alchemy</a> or <a href="https://www.infura.io/">Infura</a>.</p>
<h2>Emerging Centralization&nbsp;</h2>
<p>Users send requests &amp; <a href="/home/ethereum/blockchain/transaction">transactions</a> over an internet <a href="/home/concepts/api">API</a>; these platforms execute them on their behalf.</p>
<p>These Nodes-as-a-Service platforms are great tools that have (and will continue to) provide incalculable value to the Ethereum ecosystem. Without them, the vibrant ecosystem we have today would not be possible.</p>
<p>But they are inherently centralizing.</p>
<p>What's the point of decentralizing Ethereum if the vast majority of people access it through one or two centralized entities?</p>
<p>It is trivially easy for a government to affect a corporation.&nbsp;</p>
<p>Ethereum isn't credibly neutral if the only two gateways can be compromised.</p>
<p>Today, you can only access Ethereum via a node, but in the future you will be able to use a light client.</p>
<h2>Light Clients</h2>
<p><a href="/home/ethereum/upgrades/statelessness">Deep Dive: Stateless Ethereum</a></p>
<p>A <a href="https://www.youtube.com/watch?v=ZHNrAXf3RDE">light client</a> (currently theoretical) can directly and trustlessly interact with Ethereum without having access to a full node.&nbsp;</p>
<p><a href="/home/ethereum/upgrades/statelessness/theory">Statelessness</a> is an important milestone on the way to light client support.&nbsp;</p>
<p>Ethereum must be able to support access to the EVM state without actually running the (extremely heavy duty) software before a light client is realistic.</p>
<p>While statelessness is a big, important step towards light clients, it doesn't get us all the way there.&nbsp;</p>
<h2>Light Ethereum Subprotocol</h2>
<p>The problem is actually pretty subtle, and only really came apparent during the previous attempt at light client support: <a href="https://github.com/ethereum/devp2p/blob/master/caps/les.md">Light Ethereum Subprotocol</a> (LES).</p>
<p>Tl;dr LES allowed light clients to request <a href="/home/concepts/merkle-tree">Merkle proofs</a> and other data needed to trustlessly interact with Ethereum from a full node.</p>
<p>A light client could ask "what is Alice's balance" and the node would reply with cryptographic proof.</p>
<p>But operating Ethereum is already a difficult task. LES drastically increases both the computational and bandwidth demands on these nodes.</p>
<p>Light clients are supposed to support decentralization, LES just increases node costs thereby decreasing decentralization.</p>
<p>As <a href="https://twitter.com/pipermerriam">Piper Merriam</a> said, the LES nodes that are out there are being run "<a href="https://www.youtube.com/watch?v=0stc9jnQLXA">by the goodness of hobbyists' hearts... or people who misconfigured their client on accident</a>."</p>
<h2>The Portal Network</h2>
<figure class="image"><img src="/light-client-4.jpeg"></figure>
<p>But don't worry, the LES lesson was learned, and Piper and his team have got the solution.</p>
<p>In the future, your in-browser wallet, cell phone, ANYTHING will be able to trustlessly interact with Ethereum.</p>
<p>In order to access Ethereum they will turn to the <a href="https://www.ethportal.net/">Portal Network</a>.</p>
<p>The Portal Network is a group of networks that are dedicated servicing Ethereum light clients.</p>
<p>Nodes in the Portal Network opt in to the specific networks they want to support with whatever resources they have available.</p>
<p>The ethos of the Portal Network is "contribute what you can." No participant is too modest, no computer to slow.&nbsp;</p>
<p>Each operator can subscribe to the networks they want to support and, once subscribed, can tune the amount they are willing to store/process.</p>
<p>The idea is very similar to <a href="https://en.wikipedia.org/wiki/BitTorrent">BitTorrent</a>.</p>
<p>The key takeaway: the more network participants, the stronger the network becomes, both in terms of available storage capacity and ability to process requests.</p>
<h2>A Light Client Future</h2>
<p>Let's say you want to make a swap on Uniswap.</p>
<p>Today, your wallet will connect with Infura, gather the information it needs to craft a transaction and then send back a signed transaction.</p>
<p>In the future, your wallet will query ~4 Portal Network networks.</p>
<ul>
  <li>First, your wallet will send a request to the Header Network to get the latest header and get the current state of the EVM.</li>
  <li>Next, it will access the State Network to build a transaction.</li>
  <li>Once built and signed, it will broadcast it to the Transaction Network.</li>
</ul>
<p>Think of the Transaction Network like the mempool, the place where pending transactions wait to be executed.</p>
<p>In order to process the mempool, a node must be able to handle the entire (HUGE) mempool.&nbsp;</p>
<p>The Transaction Network allows much more broad participation.</p>
<p>Once broadcast to the Transaction Network, the light client will subscribe to the History Network and look for the transaction it submitted.</p>
<p>All of these steps come with cryptographic proof, so the light client can verify each step without trusting anyone.</p>
<h2>Looking Forward</h2>
<p>Today, the Portal Network is a research project.&nbsp;</p>
<p>In a nod to the principles of Ethereum, 3 independent teams are building clients to support it.</p>
<p>Together with statelessness, the Portal Network makes Ethereum light clients entirely possible.</p>
<p>And while this is incredibly cool for decentralization and trustless access, light clients are so much bigger.&nbsp;</p>
<p>Light clients are THE step-change.&nbsp;</p>
<p>Light clients + <a href="/home/ethereum/upgrades/middleware">middleware</a> = the <a href="/home/ethereum/world-computer">World Computer</a></p>
<h2>Resources</h2>
<p>Source Material - <a href="https://twitter.com/SalomonCrypto/status/1590511339658571776">Twitter Link</a></p>
<p>Source Material - <a href="/twitter-pdf-2022-11-09_light_clients.pdf">PDF</a></p>
